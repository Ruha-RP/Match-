<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Comfort Food Survey</title>
	<!-- Compiled and minified CSS -->
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  	<!-- JQuery Link -->
	<script src="https://code.jquery.com/jquery.js"></script>
  	<!-- Compiled and minified JavaScript -->
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
</head>

<body>
	<div class="container">
		
		<div class="row">
			<div class="col s12 m12">
				<div class="card blue-grey darken-1">
            		<div class="card-content white-text center">
              			<span class="card-title">Survey Questions</span>

            		</div>
            	</div>
			</div>	
      	</div>


<!-- ========== -->
<!--  ABOUT -->
<!-- ========== -->

  		<div class="row">
    		<form class="col s12">
      			<div class="row">
        			<div class="input-field col s6">
          				<input id="food_name" type="text" class="validate">
          				<label for="food_name">Your Craving</label>
        			</div>
      			</div> 
      			<div class="row">
        			<div class="input-field col s6">
          				<input id="food_photo" type="text" class="validate">
          				<label for="food_photo">Link to Image</label>
        			</div>
      			</div>  
      		</form>
  		</div>

<!-- ========== -->
<!--  QUESTIONS -->
<!-- ========== -->

<div class="row">
	<div class="col s12 m12">
		<div class="input-field col s12">
		    <select id="savoury">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Savoury is the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="sweet">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Sweet is the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="spicy">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Spicy is the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="fatty">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Fattening is the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="aromatic">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Aromatic is the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="cheese">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How much Cheese is in the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="warmth">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How much Warmth does the dish give?</label>
		</div>
		<div class="input-field col s12">
		    <select id="refreshing">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Refreshing is the dish?</label>
		</div>
		<div class="input-field col s12">
		    <select id="nostalgic">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How Nostalgic is the dish? (E.g childhood favorite, Homecooked meal)</label>
		</div>
		<div class="input-field col s12">
		    <select id="difficulty">
		      <option value="" disabled selected>Choose your option</option>
		      <option value="1">1 (Not at all!)</option>
		      <option value="2">2</option>
		      <option value="3">3</option>
		      <option value="4">4</option>
		      <option value="5">5 (Completely!)</option>
		    </select>
		    <label>How difficult is it to cook?</label>
		</div>
	</div>

<!-- SUBMIT BUTTON -->

	<div class="row center">
       	<button id="add-btn" data-target="modal1" class="btn waves-effect waves-light amber darken-3 black-text btn modal-trigger" type="submit" name="action">Submit
    		<i class="material-icons right">local_dining</i>
  		</button>
    </div>
</div>




<!-- ========== -->
<!--  LINKS -->
<!-- ========== -->

      	<div class="row">
        	<div class="col s12 m12">
          		<div class="card blue-grey darken-1">
            		<div class="card-action">
		            	<a href="/api/foods">Comfort Foods API</a>
		            	<a href="https://github.com/Ruha-RP/Match-">Github Repo</a>
		            </div>
         		</div>
        	</div> 
      	</div>
	
	</div>

<!-- ========== -->
<!--  MODAL -->
<!-- ========== -->
<div id="modal1" class="modal">
    <div class="modal-content">
      <h5>Alternate Comfort Food</h5>
      <h3>Best Match: <strong><span id="best_match"></span></strong></h3>
      <p id="user_entry">Your Choice: </p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
</div>

<!-- ========== -->
<!--  JAVASCRIPT-->
<!-- ========== -->

<script type="text/javascript">

	//required for materialize
	$(document).ready(function() {
    $('select').material_select();
    $('.modal').modal();
  	});


	//Captures the data using an on-click
  	$("#add-btn").on("click", function(event) {

  	  //preventing the form from auto-submitting	
      event.preventDefault();

      $("#user_entry").append($("#food_name").val());
    
      //new variable that will hold the information
      var newComfortFood = {
        name: $("#food_name").val(),
  		// picture: $("#food_photo").val(),
  		scores: [
  			parseInt($("#savoury").val()),
  			$("#sweet").val(),
  			$("#spicy").val(),
  			$("#fatty").val(),
  			$("#aromatic").val(),
  			$("#cheese").val(),
  			$("#warmth").val(),
  			$("#refreshing").val(),
  			$("#nostalgic").val(),
  			$("#difficulty").val(),
  		]
      };

      //posting to the api
      $.post("/api/new", newComfortFood)
      .then(function(data) {
        console.log(data);

      });
    });

        


</script>

</body>

</html>

